## 存储：

1. Memcache和 redis都支持简单的k/v类型的数据。

2. memcache还可用于缓存其他东西，例如图片、视频等。

3. redis除了支持简单的key-value外，还支持其他数据类型list，set，hash，sorted set 等。

4. Redis支持数据的持久化，可以将内存中的数据保持在磁盘中。Redis只会缓存所有的key的信息，当物理内存用完时， Redis 会将一部分value保存到磁盘中，同时在内存中清除。Memcache的数据只能保存到内存中，当其超过内存比例会抹掉前面的数据。

## 数据安全：

memcache挂掉后，数据不可恢复。

redis数据丢失后可以通过aof恢复。

## 性能：

Redis和Memcached性能都比较高，如果只是存储简单的key-value， Memcached的表现更好。

Memcached使用预分配的内存池的方式，可以省去申请/释放内存的开销，并且能 减小内存碎片产生，但这种方式也会带来一定程度上的空间浪费，并且在内存仍然有很大空间时，新的数据也可能会被剔除。

Redis使用现场申请内存的方式来存储数据，会在一定程度上存在内存碎片，Redis根据存储命令参数，会把带过期时间的数据单独存放在一起，并把它们称为临时数据，非临时数据是永远不会被剔除的，这点上Redis更适合作为存储。

 

## 事务：

Memcached提供了cas命令，可以保证多个并发访问操作同一份数据的一致性问题。 

Redis没有提供cas 命令，并不能保证这点，不过Redis提供了事务的功能，可以保证一串 命令的原子性，中间不会被任何操作打断。

 

## 分布式：

Memcached的分布式不是在服务器端实现的，而是在客户端应用中实现的，即通过内置算法（如一致性hash算法）指定目标数据的节点。

Redis在服务器端构建分布式存储。Redis Cluster是一个实现了分布式且允许单点故障的Redis高级版本，它没有中心节点，各个节点地位一致，具有线性可伸缩的功能。

## 网络IO模型：

memcached是多线程，非阻塞IO复用的网络模型，分为监听主线程和worker子线程，监听线程监听网络连接，接受请求后，将连接描述字传递给worker线程，进行读写IO，网络层使用libevent封装的事件库，多线程模型可以发挥多核作用，但是引入了缓存一致性和锁的问题，带来了一定的性能损耗。

 

redis使用单线程的IO复用模型，自己封装了一个简单的AeEvent事件处理框架，对于单独的IO操作来说，单线程可以将速度优势发挥到最大。但是redis也提供了一些简单的计算功能，比如排序、聚合等，对于这些操作，单线程模型施加会严重影响整体吞吐量，CPU计算过程中，整个IO调度都是被阻塞的。

## 其他：

1. Memcached单个key-value大小有限，一个value最大只支持1MB，而Redis最大支持512MB。 
2. Memcached只是个内存缓存，对可靠性无要求；而Redis更倾向于内存数据库，因此对对可靠性方面要求比较高 。

3. Redis除了作为存储之外还提供了一些其它方面的功能，比如聚合计算、订阅发布消息、scripting等。

